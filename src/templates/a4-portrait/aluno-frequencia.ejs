<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="http://localhost:2000/assets/css/font.css">
    <meta charset="UTF-8">
    <style>
        .text-line {
            border-bottom: 1px solid;
            flex: 1;
        }
    </style>
</head>
<body style="margin: 30px;">
    <%- include("reusable/header-escola.ejs") %>
    <%- include("css/common.ejs") %>
    <div>
        <div class="flex flex-column" style="gap: 10px;">
            <div class="flex grow">
                <div class="flex grow">
                    <b class="pad-right" style="margin-right: 5px">Instituição de Ensino:</b>
                    <div class="text-line"><%= nome_escola %></div>
                </div>
                <div style="max-width: 160px;" class="flex grow">
                    <b class="pad-right">Ano Letivo:</b>
                    <div class="text-line text-center"><%= nome_ano_letivo %></div>
                </div>
            </div>
            <div class="flex grow">
                <div class="flex grow">
                    <b class="pad-right">Prof (a):</b>
                    <div class="text-line"><%= nome_professor %></div>
                </div>
                <div style="max-width: 250px;" class="flex grow">
                    <b class="pad-right">Período Letivo:</b>
                    <div class="text-line text-center"><%= nome_periodo_letivo %></div>
                </div>
            </div>
            <div class="flex grow">
                <div class="flex grow">
                    <b class="pad-right">Aluno(a):</b>
                    <div class="text-line"><%= aluno.nome %></div>
                </div>
                <div style="max-width: 190px;" class="flex grow">
                    <b class="pad-right">Turma:</b>
                    <div class="grow text-line"><%= nome_turma %></div>
                </div>
            </div>
            <% if (tipo_documento !== "Infantil") { %>
                <div class="flex grow">
                    <div class="flex grow">
                        <b class="pad-right">Componente Curricular:</b>
                        <div class="text-line"><%= nome_disciplina %></div>
                    </div>
                </div>
            <% } %>
        </div>
        <br>
        <h3 class="text-center">
            <u>Frequência Individual</u>
        </h3>
        <% 
           const startDate = new Date(periodo_letivo_date_range[0])
           const endDate = new Date(periodo_letivo_date_range[1])
         %> 
        <%- include("reusable/diario-classe/frequencia.ejs", { frequencia: frequencia.filter(item => {
            const date = new Date(item.data_lancamento)
            return (date >= startDate && date <= endDate)
        }) }) %> 
    </div>
</body>
</html>